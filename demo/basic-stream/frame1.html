<!DOCTYPE html>
<html>
    <head>
    
    </head>
    
    <body>
        
        <button id="counter">Count + 1</button>
        
        <script src="../../src/wimp.min.js"></script>
        
        <script>
            
            let counter = 0;
            
            const buttonStream = new Wimp(window.parent).createStream("click", (data, res) => {
                res(counter);
            })
            
            const counterButton = document.getElementById("counter");
            
            counterButton.onclick = () => {
                counter++;
                buttonStream.emit(counter);
            }
            
            Wimp.init();
        </script>
    </body>
</html>